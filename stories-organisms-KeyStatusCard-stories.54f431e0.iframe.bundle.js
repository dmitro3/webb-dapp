/*! For license information please see stories-organisms-KeyStatusCard-stories.54f431e0.iframe.bundle.js.LICENSE.txt */
(self.webpackChunkwebb_monorepo=self.webpackChunkwebb_monorepo||[]).push([[9507],{"./libs/webb-ui-components/src/stories/organisms/KeyStatusCard.stories.jsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>KeyStatusCard_stories});var defineProperty=__webpack_require__("./node_modules/@nx/js/node_modules/@babel/runtime/helpers/defineProperty.js"),defineProperty_default=__webpack_require__.n(defineProperty),react=(__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.set.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-properties.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/react/index.js")),objectWithoutProperties=__webpack_require__("./node_modules/@nx/js/node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),objectWithoutProperties_default=__webpack_require__.n(objectWithoutProperties),components=(__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.array.fill.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("./libs/webb-ui-components/src/components/index.ts")),Typography=__webpack_require__("./libs/webb-ui-components/src/typography/Typography/index.ts"),dist=__webpack_require__("./node_modules/react-router-dom/dist/index.js"),KeyValueWithButton=__webpack_require__("./libs/webb-ui-components/src/components/KeyValueWithButton/index.ts"),LabelWithValue=__webpack_require__("./libs/webb-ui-components/src/components/LabelWithValue/index.ts"),TimeProgress=__webpack_require__("./libs/webb-ui-components/src/components/TimeProgress/index.ts"),TitleWithInfo=__webpack_require__("./libs/webb-ui-components/src/components/TitleWithInfo/index.ts"),React=__webpack_require__("./node_modules/react/index.js"),_excluded=["authorities","endTime","fullDetailUrl","instance","keyType","keyVal","sessionNumber","startTime","title","titleInfo","totalAuthorities"],KeyStatusCard=function KeyStatusCard(_ref){var authorities=_ref.authorities,endTime=_ref.endTime,fullDetailUrl=_ref.fullDetailUrl,instance=_ref.instance,keyType=_ref.keyType,keyVal=_ref.keyVal,sessionNumber=_ref.sessionNumber,startTime=_ref.startTime,title=_ref.title,titleInfo=_ref.titleInfo,totalAuthorities=_ref.totalAuthorities,props=objectWithoutProperties_default()(_ref,_excluded),PlaceholderAvatarList=Array(5).fill(null).map((function(_,idx){return React.createElement(components.qE,{sourceVariant:"address",key:idx,value:"0x03856d8db4bf0e3d52a72c447ba8003f9a2c2268fd4ac4db95b890869ec842f3c7"})}));return React.createElement(components.Zb,props,React.createElement("div",{className:"flex justify-between w-full"},React.createElement("div",{className:"flex items-center space-x-2"},React.createElement(TitleWithInfo.w,{title,info:titleInfo,variant:"h5"}),React.createElement(components.Af,{color:"green",className:"inline-block"},keyType),React.createElement(LabelWithValue.O,{label:"session: ",value:"#".concat(sessionNumber)})),React.createElement("div",{className:"flex items-center"},React.createElement(Typography.Z,{variant:"para1",fw:"bold",className:"mr-2 text-xs"},"KEY"),React.createElement(KeyValueWithButton.P,{keyValue:keyVal}))),React.createElement(TimeProgress.b,{now:instance,startTime,endTime}),React.createElement("div",{className:"flex items-center justify-between"},React.createElement(components.HE,{total:0===totalAuthorities?5:totalAuthorities},0===totalAuthorities?PlaceholderAvatarList:Array.from(authorities).map((function(aut,idx){return React.createElement(components.qE,{sourceVariant:"address",key:"".concat(aut).concat(idx),value:aut})}))),React.createElement(dist.rU,{to:fullDetailUrl},React.createElement(components.zx,{variant:"link",as:"span",size:"sm"},"See full details"))))};KeyStatusCard.displayName="KeyStatusCard";try{KeyStatusCard.displayName="KeyStatusCard",KeyStatusCard.__docgenInfo={description:"The `KeyStatusCard` component displays the current key and next key data\n\n```jsx\n import { useKeyStatusSeedData } from \"@webb-tools/webb-ui-components\";\n\n const statusCardData = useKeyStatusSeedData();\n\n // ...\n\n <KeyStatusCard className='max-w-[680px] mt-6' {...statusCardData} />\n```",displayName:"KeyStatusCard",props:{className:{defaultValue:null,description:"The tailwindcss className to override the style",name:"className",required:!1,type:{name:"string"}},darkMode:{defaultValue:null,description:"Control dark mode using `js`, if it's empty, the component will control dark mode in `css`",name:"darkMode",required:!1,type:{name:"boolean"}},title:{defaultValue:null,description:"The key card title (can be `Active key` or `Next key`)",name:"title",required:!0,type:{name:"string"}},titleInfo:{defaultValue:null,description:"The title info describes the card (appears in the `Tooltip`)",name:"titleInfo",required:!1,type:{name:"string"}},sessionNumber:{defaultValue:null,description:"The session number next to the title",name:"sessionNumber",required:!0,type:{name:"number"}},keyType:{defaultValue:null,description:"The `KeyType` (can be `current` or `next` )",name:"keyType",required:!0,type:{name:"enum",value:[{value:'"current"'},{value:'"next"'}]}},keyVal:{defaultValue:null,description:"The key value (hex string hash)",name:"keyVal",required:!0,type:{name:"string"}},startTime:{defaultValue:null,description:"The start time of the `key`",name:"startTime",required:!0,type:{name:"Date"}},endTime:{defaultValue:null,description:"The end time of the `key`",name:"endTime",required:!0,type:{name:"Date"}},authorities:{defaultValue:null,description:"The `Authority` represents authorities attended in the key gen process",name:"authorities",required:!0,type:{name:"{Set<string>}"}},totalAuthorities:{defaultValue:null,description:"Total number of authorities",name:"totalAuthorities",required:!0,type:{name:"number"}},fullDetailUrl:{defaultValue:null,description:"The `url` to the detail page of the key",name:"fullDetailUrl",required:!0,type:{name:"string"}},previousKeyId:{defaultValue:null,description:"The previous key id for nagivation",name:"previousKeyId",required:!1,type:{name:"string"}},nextKeyId:{defaultValue:null,description:"The next key id for navigation",name:"nextKeyId",required:!1,type:{name:"string"}},instance:{defaultValue:null,description:"Time instance",name:"instance",required:!0,type:{name:"ISubQlTime"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["libs/webb-ui-components/src/components/KeyStatusCard/KeyStatusCard.tsx#KeyStatusCard"]={docgenInfo:KeyStatusCard.__docgenInfo,name:"KeyStatusCard",path:"libs/webb-ui-components/src/components/KeyStatusCard/KeyStatusCard.tsx#KeyStatusCard"})}catch(__react_docgen_typescript_loader_error){}var _Default$parameters,_Default$parameters2,_Default$parameters2$,index_esm=__webpack_require__("./node_modules/@ngneat/falso/index.esm.js"),storybook_addon_react_router_v6_dist=__webpack_require__("./node_modules/storybook-addon-react-router-v6/dist/index.mjs");function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}const KeyStatusCard_stories={title:"Design System/Organisms/KeyStatusCard",component:KeyStatusCard,decorators:[storybook_addon_react_router_v6_dist.EN]};var Template=function Template(args){return react.createElement(KeyStatusCard,args)};Template.displayName="Template";var Default=Template.bind({});Default.args={title:"Active Key 2",titleInfo:"The public key of the DKG protocol that is currently active.",sessionNumber:3456,keyType:"current",keyVal:"0x1234567890abcdef",startTime:(0,index_esm.Ygd)(),endTime:(0,index_esm.UaM)(),authorities:new Set(["5GrwvaEF5zXb26Fz9rcQpDWS57CtERHpNehXCPcNoHGKutQY"]),totalAuthorities:(0,index_esm.s8S)(10,20),fullDetailUrl:"https://webb.tools"},Default.parameters=_objectSpread(_objectSpread({},Default.parameters),{},{docs:_objectSpread(_objectSpread({},null===(_Default$parameters=Default.parameters)||void 0===_Default$parameters?void 0:_Default$parameters.docs),{},{source:_objectSpread({originalSource:"args => <KeyStatusCard {...args} />"},null===(_Default$parameters2=Default.parameters)||void 0===_Default$parameters2||null===(_Default$parameters2$=_Default$parameters2.docs)||void 0===_Default$parameters2$?void 0:_Default$parameters2$.source)})});var __namedExportsOrder=["Default"]},"./node_modules/core-js/modules/es.set.constructor.js":(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__("./node_modules/core-js/internals/collection.js")("Set",(function(init){return function Set(){return init(this,arguments.length?arguments[0]:void 0)}}),__webpack_require__("./node_modules/core-js/internals/collection-strong.js"))},"./node_modules/core-js/modules/es.set.js":(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__("./node_modules/core-js/modules/es.set.constructor.js")},"./node_modules/storybook-addon-react-router-v6/dist/index.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{EN:()=>ke});var external_STORYBOOK_MODULE_PREVIEW_API_=__webpack_require__("@storybook/preview-api"),react=__webpack_require__("./node_modules/react/index.js");var dist=__webpack_require__("./node_modules/react-router/dist/index.js"),react_router_dom_dist=__webpack_require__("./node_modules/react-router-dom/dist/index.js"),m="storybook/react-router-v6",l={CLEAR:`${m}/clear`,NAVIGATION:`${m}/navigation`,STORY_LOADED:`${m}/story-loaded`,ROUTE_MATCHES:`${m}/route-matches`,ACTION_INVOKED:`${m}/action_invoked`,ACTION_SETTLED:`${m}/action_settled`,LOADER_INVOKED:`${m}/loader_invoked`,LOADER_SETTLED:`${m}/loader_settled`};var w=react.createContext([]);async function A(e){let r,t=e.clone(),n=t.headers.get("content-type")||"";switch(!0){case n.startsWith("text"):r=await t.text();break;case n.startsWith("application/json"):r=await t.json();break;case n.startsWith("multipart/form-data"):case n.startsWith("application/x-www-form-urlencoded"):r=function F(e){let t={};return e.forEach(((n,r)=>{n instanceof File?t[r]={filename:n.name,filesize:n.size,filetype:n.type}:t[r]=n})),t}(await t.formData())}return r}var V,e,$,x=()=>{let e=(0,react.useRef)(0);return(0,react.useCallback)((async(t,n)=>{e.current++;let r=`${t}_${e.current}`;switch(t){case l.ACTION_INVOKED:{let{request:o,params:i,context:a}=n;return{key:r,type:t,data:{params:i,request:{url:o.url,method:o.method,body:await A(o)},context:a}}}case l.ACTION_SETTLED:return{key:r,type:t,data:n};case l.LOADER_INVOKED:{let{request:o,params:i,context:a}=n;return{key:r,type:t,data:{params:i,request:{url:o.url,method:o.method,body:await A(o)},context:a}}}case l.LOADER_SETTLED:return{key:r,type:t,data:n}}}),[])};function H(){let e=function U(){let e=external_STORYBOOK_MODULE_PREVIEW_API_.addons.getChannel(),t=x();return(0,react.useCallback)((n=>async function(r){if(void 0===n)return;e.emit(l.ACTION_INVOKED,await t(l.ACTION_INVOKED,r));let o=await n(r);return e.emit(l.ACTION_SETTLED,await t(l.ACTION_SETTLED,o)),o}),[e,t])}(),t=function k(){let e=external_STORYBOOK_MODULE_PREVIEW_API_.addons.getChannel(),t=x();return(0,react.useCallback)((n=>async function(r){if(void 0===n)return;e.emit(l.LOADER_INVOKED,await t(l.LOADER_INVOKED,r));let o=await n(r);return e.emit(l.LOADER_SETTLED,await t(l.LOADER_SETTLED,o)),o}),[e,t])}(),n=(0,react.useCallback)((r=>r.map((o=>{let{action:i,loader:a,children:s}=o,c={...o};return i&&(c.action=e(i)),a&&(c.loader=t(a)),s&&(c.children=n(s)),c}))),[e,t]);return n}function O(e,t){if(1===e.length&&(void 0===e[0].children||0===e[0].children.length))return[{...e[0],element:t}];let n=e.findIndex((r=>r.useStoryElement));if(-1!==n){let r=Array.from(e);return r.splice(n,1,{...e[n],element:t}),r}return e.map((r=>r.children?{...r,children:O(r.children,t)}:r))}function K(e,t){if(!1===e||null===e||typeof e>"u")throw new Error(t)}function L(e,t){void 0===t&&(t={});let n=e;return n.endsWith("*")&&"*"!==n&&!n.endsWith("/*")&&(function be(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}(!1,'Route path "'+n+'" will be treated as if it were "'+n.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+n.replace(/\*$/,"/*")+'".'),n=n.replace(/\*$/,"/*")),n.replace(/^:(\w+)(\??)/g,((r,o,i)=>{let a=t[o];return"?"===i?a??"":(null==a&&K(!1,'Missing ":'+o+'" param'),a)})).replace(/\/:(\w+)(\??)/g,((r,o,i)=>{let a=t[o];return"?"===i?null==a?"":"/"+a:(null==a&&K(!1,'Missing ":'+o+'" param'),"/"+a)})).replace(/\?/g,"").replace(/(\/?)\*/,((r,o,i,a)=>null==t["*"]?"/*"===a?"/":"":""+o+t["*"]))}(e=V||(V={})).Pop="POP",e.Push="PUSH",e.Replace="REPLACE",function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}($||($={}));var B=["post","put","patch","delete"];new Set(B);var ve=["get",...B];function T(e=[],t="/"){if(1!==e.length)return t;let n=e[0],r=function we(e,t=""){let n=["","/"],r=e.split("/").filter((a=>!n.includes(a))),o=t.split("/").filter((a=>!n.includes(a)));return"/"+[...r,...o].join("/")}(t,n.path);return void 0===n.children||0===n.children.length?r:T(n.children,r)}function u(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function E(e){return 0===arguments.length?[]:Array.isArray(e)?e:[e]}new Set(ve);var P=()=>react.useContext(w);var J=()=>{let e=(0,react.useRef)(0),t=(0,dist.TH)(),n=(0,dist.UO)(),[r]=(0,react_router_dom_dist.lr)(),o=(0,dist.ur)(),i=P(),a=function Y(e){let t={};return e.forEach(((n,r)=>{let o=t[r];"string"!=typeof o?Array.isArray(o)?t[r]=[...o,n]:t[r]=n:t[r]=[o,n]})),t}(r),s=(()=>{let e=(0,dist.TH)();return`${e.pathname}${e.search}${e.hash}`})(),c=i.map((d=>{let f={path:d.route.path};return Object.keys(d.params).length>0&&(f.params=d.params),f})),h={url:s,path:t.pathname,routeParams:n,searchParams:a,hash:t.hash,routeState:t.state,routeMatches:c};return d=>{e.current++;let f=`${d}_${e.current}`;switch(d){case l.STORY_LOADED:return{key:f,type:d,data:h};case l.NAVIGATION:return{key:f,type:d,data:{...h,navigationType:o}};case l.ROUTE_MATCHES:return{key:f,type:d,data:{matches:c}}}}},Q=({children:e})=>{let t=external_STORYBOOK_MODULE_PREVIEW_API_.addons.getChannel(),n=(0,dist.TH)(),r=P(),o=J(),i=(0,react.useRef)(),a=(0,react.useRef)(),s=(0,react.useRef)(),c=void 0!==i.current,h=c&&n.key!==i.current;return h&&a.current!==n.key&&(t.emit(l.NAVIGATION,o(l.NAVIGATION)),a.current=n.key),h&&r.length>0&&r!==s.current&&t.emit(l.ROUTE_MATCHES,o(l.ROUTE_MATCHES)),!c&&r.length>0&&(t.emit(l.STORY_LOADED,o(l.STORY_LOADED)),i.current=n.key,s.current=r),s.current=r,react.createElement(react.Fragment,null,e)};function X(e){let{renderStory:t,storyContext:n,storyParameters:r={}}=e,{hydrationData:o,routing:i,navigationHistory:a,location:s}=r,c=H(),h=(0,react.useCallback)((({storyContext:f})=>t(f)),[t]),d=(0,react.useMemo)((()=>{let f=function W(e){var t;return void 0===e?[{path:"/"}]:"string"==typeof e?[{path:e}]:(1===(e=E(e)).length&&((t=e[0]).path??(t.path="/")),e)}(i),y=O(c(f),react.createElement(Q,null,react.createElement(h,{storyContext:n}))),{initialEntries:g,initialIndex:b}=function z({navigationHistory:e,location:t,routes:n}){if(void 0!==e){let g,y=[],b=Object.values(e);for(let v=0;v<b.length;v++){let{path:S,pathParams:C,searchParams:oe,hash:ae,state:ie,isInitialLocation:se}=b[v];se&&(g=v);let I=T(n),le=("function"==typeof S?S(I,C??{}):S)??I;y.push({pathname:L(le??"/",C),search:new URLSearchParams(oe).toString(),hash:ae,state:ie})}return g??(g=y.length-1),{initialEntries:y,initialIndex:g}}let{path:r,pathParams:o,searchParams:i,hash:a,state:s}=t??{},c=T(n);return{initialEntries:[{pathname:L(("function"==typeof r?r(c,o??{}):r)??c,o),search:new URLSearchParams(i).toString(),hash:a,state:s}],initialIndex:0}}({navigationHistory:a,location:s,routes:y});return(0,dist.bi)(y,{initialEntries:g,initialIndex:b,hydrationData:o})}),[h,c,o,s,a,i,n]);return react.createElement(dist.pG,{router:d,fallbackElement:react.createElement(_e,null)})}function _e(){return react.createElement("p",null,"Performing initial data load")}var ee=({renderStory:e,storyContext:t,parameters:n})=>{let r=function _(){let[e,t]=(0,react.useState)([]),n=dist.pW;return n.Provider._context=new Proxy(n.Provider._context??{},{set:(r,o,i)=>("_currentValue"===o&&void 0!==i&&t((a=>i.matches.length>a.length?i.matches:a)),Reflect.set(r,o,i))}),e}();return react.createElement(w.Provider,{value:r},react.createElement(X,{renderStory:e,storyContext:t,storyParameters:n}))};function p(e){return function re(e){if(react.isValidElement(e))return!0;switch(!0){case react.isValidElement(e):case"string"==typeof e:case"number"==typeof e:case"boolean"==typeof e:case null===e:case void 0===e:case e instanceof Object&&u(e,Symbol.iterator):return!0}return!1}(e)?{element:e}:e}var ke=(0,external_STORYBOOK_MODULE_PREVIEW_API_.makeDecorator)({name:"withRouter",parameterName:"reactRouter",wrapper:(e,t,{parameters:n})=>{let r=function ne(e={}){let t=["location","navigationHistory","routing"];if(Object.keys(e??{}).some((o=>t.includes(o))))return e;let r={routing:{},location:{},hydrationData:void 0};if(u(e,"routePath")&&(r.location.path=e.routePath,r.routing.path=e.routePath),u(e,"routeParams")&&(r.location.pathParams=e.routeParams),u(e,"routeState")&&(r.location.state=e.routeState),u(e,"routeHandle")&&(r.routing.handle=e.routeHandle),u(e,"searchParams")&&(r.location.searchParams=e.searchParams),u(e,"browserPath")&&(r.location.path=e.browserPath),u(e,"loader")&&(r.routing.loader=e.loader),u(e,"action")&&(r.routing.action=e.action),u(e,"errorElement")&&(r.routing.errorElement=e.errorElement),u(e,"hydrationData")&&(r.hydrationData=e.hydrationData),u(e,"shouldRevalidate")&&(r.routing.shouldRevalidate=e.shouldRevalidate),u(e,"routeId")&&(r.routing.id=e.routeId),u(e,"outlet")){let o=p(e.outlet);o.path??(o.path=""),r.routing.children=[o]}return r.routing.useStoryElement=!0,r}(n);return react.createElement(ee,{renderStory:e,storyContext:t,parameters:r})}})},"?d4c0":()=>{}}]);